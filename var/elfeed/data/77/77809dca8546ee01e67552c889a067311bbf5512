<p>In this ~13-minute video I explain how to use the Denote user option
<code class="language-plaintext highlighter-rouge">denote-file-name-components-order</code>. Then I show how to retroactively
rename all the files that have the Denote file-naming scheme so that
they follow the desired order. In the process, I cover the command
<code class="language-plaintext highlighter-rouge">denote-sort-dired</code> (alias <code class="language-plaintext highlighter-rouge">denote-dired</code>), which helps produce a flat
listing of Denote files, even if they exist in subdirectories of the
<code class="language-plaintext highlighter-rouge">denote-directory</code>.</p>

<p>The code used in this video:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; The default:</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">denote-file-name-components-order</span> <span class="o">'</span><span class="p">(</span><span class="nv">identifier</span> <span class="nv">signature</span> <span class="nv">title</span> <span class="nv">keywords</span><span class="p">))</span>

<span class="c1">;; Any order will work.  Here is the one I am using for this demonstation:</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">denote-file-name-components-order</span> <span class="o">'</span><span class="p">(</span><span class="nv">identifier</span> <span class="nv">signature</span> <span class="nv">keywords</span> <span class="nv">title</span><span class="p">))</span>

<span class="c1">;; And here is another:</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">denote-file-name-components-order</span> <span class="o">'</span><span class="p">(</span><span class="nv">identifier</span> <span class="nv">keywords</span> <span class="nv">title</span> <span class="nv">signature</span><span class="p">))</span>

<span class="c1">;; And yet another one for the sake of completeness:</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">denote-file-name-components-order</span> <span class="o">'</span><span class="p">(</span><span class="nv">title</span> <span class="nv">keywords</span> <span class="nv">signature</span> <span class="nv">identifier</span><span class="p">))</span>

<span class="p">(</span><span class="nb">defun</span> <span class="nv">prot/denote-rename-all-to-reorder-components</span> <span class="p">()</span>
  <span class="s">"Call `denote-dired-rename-files' without any prompts.
In other words, preserve the value of each Denote file name component.

Use this command if you wish to modify the user option
`denote-file-name-components-order' and then want your existing Denote
files to retroactively follow that order."</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">denote-prompts</span> <span class="no">nil</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">call-interactively</span> <span class="ss">'denote-dired-rename-files</span><span class="p">)))</span>
</code></pre></div></div>
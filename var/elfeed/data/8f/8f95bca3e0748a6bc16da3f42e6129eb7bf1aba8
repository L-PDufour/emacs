<a id="background" href="#background" class="anchor"><h2>Background</h2></a>
<blockquote><p data-bo="145">im-promp-tu (<code>im-ˈpräm(p)-(ˌ)tü</code>)</p>

<ol start="1"><li><p data-bo="190">made, done, or formed on or as if on the spur of the moment: <a href="https://www.merriam-webster.com/dictionary/improvised">improvised</a></p>

</li>
<li><p data-bo="326">composed or uttered without previous preparation: <a href="https://www.merriam-webster.com/dictionary/extemporaneous">extemporaneous</a></p>

</li>
</ol>
<p data-bo="456"><a href="https://www.merriam-webster.com/dictionary/impromptu">Merriam-Webster</a></p>

</blockquote>
<p data-bo="529">On March 18th, 2025, I thought I would look into self-hosted project management
solutions — something kanban-y, but.. better?</p>

<figure
class="paragraph-like"
 data-bo="658"><picture><source type="image/jxl" media="(max-width: 400px)" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~9ad11f43cb6d0e44.w400.jxl 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~100ea6c822aa7dec.w800.jxl 2x"><source type="image/jxl" media="(max-width: 900px)" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~ff8c2d0c0067f846.w900.jxl 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~7bd1d6fe30b467e7.w1800.jxl 2x"><source type="image/jxl" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~b4bc2b8bc06d1645.jxl 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~b4bc2b8bc06d1645.jxl 2x"><source type="image/avif" media="(max-width: 400px)" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~ea2de89efdf9d35e.w400.avif 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~237380f7c9c2d1d0.w800.avif 2x"><source type="image/avif" media="(max-width: 900px)" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~3845793759a93024.w900.avif 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~7136e281b03f3ffa.w1800.avif 2x"><source type="image/avif" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~745613f6aaadf300.avif 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~745613f6aaadf300.avif 2x"><source type="image/webp" media="(max-width: 400px)" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~ad8467cd28541565.w400.webp 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~9aec87da7a230bbb.w800.webp 2x"><source type="image/webp" media="(max-width: 900px)" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~c509af87e260fb83.w900.webp 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~449c9db68cc15783.w1800.webp 2x"><source type="image/webp" srcset="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~24e9b79bc76baa2c.webp 1x,https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~24e9b79bc76baa2c.webp 2x"><img src="https://cdn.fasterthanli.me/content/articles/impromptu-disaster-recovery/wekan@2x~b4bc2b8bc06d1645.jxl" loading="lazy" width="1084" height="793" data-kind="media" data-input-path="/content/articles/impromptu-disaster-recovery/wekan@2x.jxl" title="This one does not spark joy. " alt="A screenshot of WeKan, the open-source Kanban. It looks.. from another age."></picture><figcaption><div class="markup-container figure-caption"><p>This one does not spark joy.</p>
</div></figcaption>
</figure><p data-bo="833">After discovering that <a href="https://teamhood.com">Teamhood</a> was awesome (and
EU-based), but had a 3-seat minimum on their subscriptions, I resigned to
reluctantly self-host something.</p>









<a id="how-i-deploy-stuff-on-k3s" href="#how-i-deploy-stuff-on-k3s" class="anchor"></a>



























<a id="the-k3s-reconciler" href="#the-k3s-reconciler" class="anchor"></a>






















<a id="the-reformattening" href="#the-reformattening" class="anchor"></a>


























<a id="no-thoughts-head-weighty" href="#no-thoughts-head-weighty" class="anchor"></a>




<a id="gpt-4o" href="#gpt-4o" class="anchor"></a>


















<a id="claude-3-7-sonnet" href="#claude-3-7-sonnet" class="anchor"></a>




<a id="deepseek-r1" href="#deepseek-r1" class="anchor"></a>






<a id="mistral-s-le-chat" href="#mistral-s-le-chat" class="anchor"></a>








<a id="the-aftermath" href="#the-aftermath" class="anchor"></a>


















<a id="from-bad-to-worse" href="#from-bad-to-worse" class="anchor"></a>




























<a id="no-matter-how-prepared" href="#no-matter-how-prepared" class="anchor"></a>


<a id="rsync-or-swim" href="#rsync-or-swim" class="anchor"></a>











<a id="debian-12-reinstall" href="#debian-12-reinstall" class="anchor"></a>














<a id="a-new-k3s-cluster" href="#a-new-k3s-cluster" class="anchor"></a>











<a id="just-enough-ansible-to-be-dangerous" href="#just-enough-ansible-to-be-dangerous" class="anchor"></a>




















<a id="ca-troubles" href="#ca-troubles" class="anchor"></a>
















<a id="bringing-back-the-essentials" href="#bringing-back-the-essentials" class="anchor"></a>
<a id="traefik-v3" href="#traefik-v3" class="anchor"></a>






<a id="cert-manager" href="#cert-manager" class="anchor"></a>


<a id="minio" href="#minio" class="anchor"></a>




<a id="k8up" href="#k8up" class="anchor"></a>




<a id="reflector" href="#reflector" class="anchor"></a>










<a id="cloudnativepg" href="#cloudnativepg" class="anchor"></a>




<a id="bringing-forgejo-back" href="#bringing-forgejo-back" class="anchor"></a>


<a id="postgres" href="#postgres" class="anchor"></a>




<a id="persistent-volume-restore" href="#persistent-volume-restore" class="anchor"></a>


















































<a id="deployment-service-ingress" href="#deployment-service-ingress" class="anchor"></a>














<a id="bringing-home-back" href="#bringing-home-back" class="anchor"></a>








<a id="zero-downtime-deploys" href="#zero-downtime-deploys" class="anchor"></a>














































<a id="closing-words" href="#closing-words" class="anchor"></a>




















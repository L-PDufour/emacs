<p>(Tap tap. Oh, this devblog is still on?)</p>

<p>View branches are a neat corner of git-annex that have remained kind of
obscure since I implemented them back in 2014. Not many improvements
have been made from back then until recently.</p>

<p>Today I implemented a longstanding todo, unifying view branches with
adjusted branches. The result is that you can enter an adjusted branch from
a view branch, or a view branch from an adjusted branch, and get what you
would probably expect.</p>

<p>For example, to sort your annexed files into directories by author and
year, and have all annexed files in the view be unlocked:</p>

<pre><code>git-annex adjust --unlock
git-annex view author=* year=*
</code></pre>

<p>Earlier this month, I addressed probably the main missing feature of view
branches, by making <code>git-annex sync</code> work in a view branch, updating it
with metadata and files pulled in from remotes. Although
it there is room to make it
<span class="createlink"><a href="http://git-annex.branchable.com/ikiwiki.cgi?do=create&amp;from=devblog%2Fday_643__adjusted_view_branches&amp;page=faster_incremental_update_of_view_branch_by_git-annex_sync" rel="nofollow">?</a>faster</span>
still.</p>

<p>Also, view branches can be made that include files that lack metadata.
Such files are put in a directory named <code>"_"</code>. And can be moved out of
there to other directories to set their metadata. For example:</p>

<pre><code>git-annex view author?=*
</code></pre>

<p>Views combine nicely with graphical file managers, and Yann Büchau
has recently built an
<a href="https://pypi.org/project/thunar-plugins/">integration with Thunar</a>
that supports most of these new features and can be seen in action in
<a href="https://fosstodon.org/@nobodyinperson/109836827575976439">this screencast</a>.</p>

<p>This work was sponsored by Lawrence Brogan, Erik Bjäreholt, and unqueued
<a href="https://patreon.com/joeyh">on Patreon</a></p>
